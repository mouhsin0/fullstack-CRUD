<mat-toolbar class="flex justify-between items-center fixed z-10  mat-elevation-z2" [ngClass]="{'!bg-gray-800 !text-white': checked(), '!bg-gray-200': !checked()}">

    <span> <strong>CRUD</strong> </span>

    <span class="flex justify-between items-center gap-x-[20px]">
        <button mat-icon-button (click)="addProduct()"> <mat-icon [ngClass]="{'!text-white': checked()}"> add_shopping_cart </mat-icon> </button>
        <mat-slide-toggle [checked]="checked()" (change)="slide()"></mat-slide-toggle>
    </span>

</mat-toolbar>


@if(dataSource().length != 0){

    <main class="py-[64px] h-[calc(100vh-0px)]" [ngClass]="{'!bg-gray-800 !text-white': checked()}">

        <table mat-table [dataSource]="dataSource()" [ngClass]="{'!bg-gray-800': checked()}">
        
            <!-- product  -->
            <ng-container matColumnDef="Product">
                <th mat-header-cell *matHeaderCellDef class="!font-extrabold" [ngClass]="{'!text-white': checked()}">Product</th>
                <td mat-cell *matCellDef="let element" class="!py-[10px]">
                    <img [src]="element.image"  class="w-[150px] h-[150px] rounded-[10px]">
                </td>
            </ng-container>
            
            <!-- name of product -->
             <ng-container matColumnDef="Name">
    
                <th mat-header-cell *matHeaderCellDef class="!font-extrabold" [ngClass]="{'!text-white': checked()}">Name</th>
                <td mat-cell *matCellDef="let element" class="!font-extralight" [ngClass]="{'!text-white': checked()}">
                    {{element.name}}
                </td>
             </ng-container>
    
             <!-- price  -->
    
             <ng-container matColumnDef="Price">
    
                <th mat-header-cell *matHeaderCellDef class="!font-extrabold" [ngClass]="{'!text-white': checked()}">Price</th>
                <td mat-cell *matCellDef="let element" class="!font-extralight" [ngClass]="{'!text-white': checked()}">
                    {{element.price | currency}}
                </td>
             </ng-container>
    
             <!-- quantity -->
                
             <ng-container matColumnDef="Quantity">
    
                <th mat-header-cell *matHeaderCellDef class="!font-extrabold" [ngClass]="{'!text-white': checked()}">Quantity</th>
                <td mat-cell *matCellDef="let element" [ngClass]="{'!text-white': checked()}">
                    {{element.quantity}}
                </td>
             </ng-container>
    
             <ng-container matColumnDef="Actions">
    
                <th mat-header-cell *matHeaderCellDef class="!font-extrabold" [ngClass]="{'!text-white': checked()}"> Actions </th>
                <td mat-cell *matCellDef="let element">
    
                    <button mat-icon-button (click)="updateProduct(element)"> <mat-icon [ngClass]="{'!text-white': checked(), '!text-blue-700': !checked()}">draw</mat-icon> </button>
    
                    <button mat-icon-button (click)="trash(element._id)"> <mat-icon [ngClass]="{'!text-white': checked(), '!text-orange-600': !checked()}">close</mat-icon> </button>
    
                </td>
             </ng-container>
             
             
    
    
        <tr mat-header-row *matHeaderRowDef="displayColumns()"></tr>
        <tr mat-row *matRowDef="let row; columns: displayColumns()"></tr>
        </table>
    
    </main>
}


@if (dataSource().length == 0) {

    <main class="pt-[70px] px-[10px] h-[calc(100vh-0px)]" [ngClass]="{'!bg-gray-800 !text-white': checked()}">
        <p>  oops list emplty !! </p>
    </main>
}